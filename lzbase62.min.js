/*!
 * lzbase62 v1.4.9 - LZ77(LZSS) based compression algorithm in base62 for JavaScript
 * Copyright (c) 2014-2018 polygon planet <polygon.planet.aqua@gmail.com>
 * https://github.com/polygonplanet/lzbase62
 * @license MIT
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).lzbase62=t()}}(function(){return function(){return function t(n,r,e){function _(a,s){if(!r[a]){if(!n[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var o=new Error("Cannot find module '"+a+"'");throw o.code="MODULE_NOT_FOUND",o}var E=r[a]={exports:{}};n[a][0].call(E.exports,function(t){var r=n[a][1][t];return _(r||t)},E,E.exports,t,n,r,e)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<e.length;a++)_(e[a]);return _}}()({1:[function(t,n,r){var e=t("./config"),_=t("./util");function i(t){this._init(t)}i.prototype={_init:function(t){t=t||{},this._data=null,this._table=null,this._result=null,this._onDataCallback=t.onData,this._onEndCallback=t.onEnd},_createTable:function(){for(var t=_.createBuffer(8,e.TABLE_LENGTH),n=0;n<e.TABLE_LENGTH;n++)t[n]=e.BASE62TABLE.charCodeAt(n);return t},_onData:function(t,n){var r=_.bufferToString_fast(t,n);this._onDataCallback?this._onDataCallback(r):this._result+=r},_onEnd:function(){this._onEndCallback&&this._onEndCallback(),this._data=this._table=null},_search:function(){var t=2,n=this._data,r=this._offset,_=e.BUFFER_MAX;if(this._dataLen-r<_&&(_=this._dataLen-r),t>_)return!1;var i,a,s,l,o,E=r-e.WINDOW_BUFFER_MAX,u=n.substring(E,r+_),f=r+t-3-E;do{if(2===t){if(a=n.charAt(r)+n.charAt(r+1),!~(s=u.indexOf(a))||s>f)break}else 3===t?a+=n.charAt(r+2):a=n.substr(r,t);if(!~(l=e.STRING_LASTINDEXOF_BUG?n.substring(E,r+t-1).lastIndexOf(a):u.lastIndexOf(a,f)))break;o=l,i=E+l;do{if(n.charCodeAt(r+t)!==n.charCodeAt(i+t))break}while(++t<_);if(s===l){t++;break}}while(++t<_);return 2!==t&&(this._index=e.WINDOW_BUFFER_MAX-o,this._length=t-1,!0)},compress:function(t){if(null==t||0===t.length)return"";var n,r=this._createTable(),i=_.createWindow(),a=_.createBuffer(8,e.COMPRESS_CHUNK_SIZE),s=0;this._result="",this._offset=i.length,this._data=i+t,this._dataLen=this._data.length,i=t=null;for(var l,o,E,u,f,A=-1,h=-1;this._offset<this._dataLen;)this._search()?(this._index<e.BUFFER_MAX?(o=this._index,E=0):(o=this._index%e.BUFFER_MAX,E=(this._index-o)/e.BUFFER_MAX),2===this._length?(a[s++]=r[E+e.COMPRESS_FIXED_START],a[s++]=r[o]):(a[s++]=r[E+e.COMPRESS_START],a[s++]=r[o],a[s++]=r[this._length]),this._offset+=this._length,~h&&(h=-1)):(l=this._data.charCodeAt(this._offset++))<e.LATIN_BUFFER_MAX?(l<e.UNICODE_CHAR_MAX?(o=l,E=0,A=e.LATIN_INDEX):A=(E=(l-(o=l%e.UNICODE_CHAR_MAX))/e.UNICODE_CHAR_MAX)+e.LATIN_INDEX,h===A?a[s++]=r[o]:(a[s++]=r[A-e.LATIN_INDEX_START],a[s++]=r[o],h=A)):(l<e.UNICODE_BUFFER_MAX?(o=l,E=0,A=e.UNICODE_INDEX):A=(E=(l-(o=l%e.UNICODE_BUFFER_MAX))/e.UNICODE_BUFFER_MAX)+e.UNICODE_INDEX,o<e.UNICODE_CHAR_MAX?(u=o,f=0):f=(o-(u=o%e.UNICODE_CHAR_MAX))/e.UNICODE_CHAR_MAX,h===A?(a[s++]=r[u],a[s++]=r[f]):(a[s++]=r[e.CHAR_START],a[s++]=r[A-e.TABLE_LENGTH],a[s++]=r[u],a[s++]=r[f],h=A)),s>=e.COMPRESS_CHUNK_MAX&&(this._onData(a,s),s=0);return s>0&&this._onData(a,s),this._onEnd(),n=this._result,this._result=null,null===n?"":n}},n.exports=i},{"./config":2,"./util":5}],2:[function(t,n,r){var e=r.HAS_TYPED="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array,_=!1,i=!1;try{"a"===String.fromCharCode.apply(null,[97])&&(_=!0)}catch(t){}if(e)try{"a"===String.fromCharCode.apply(null,new Uint8Array([97]))&&(i=!0)}catch(t){}r.CAN_CHARCODE_APPLY=_,r.CAN_CHARCODE_APPLY_TYPED=i;var a=r.APPLY_BUFFER_SIZE=65533;r.APPLY_BUFFER_SIZE_OK=null;var s=!1;-1!=="abc\u307b\u3052".lastIndexOf("\u307b\u3052",1)&&(s=!0),r.STRING_LASTINDEXOF_BUG=s;var l=r.BASE62TABLE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=r.TABLE_LENGTH=l.length,E=Math.max(o,62)-Math.min(o,62);r.BUFFER_MAX=o-1;var u=r.WINDOW_MAX=1024;r.WINDOW_BUFFER_MAX=304;var f=r.COMPRESS_CHUNK_SIZE=a;r.COMPRESS_CHUNK_MAX=f-o;var A=r.DECOMPRESS_CHUNK_SIZE=a;r.DECOMPRESS_CHUNK_MAX=A+2*u;r.LATIN_BUFFER_MAX=132;var h=r.UNICODE_CHAR_MAX=40;r.UNICODE_BUFFER_MAX=h*(h+1),r.LATIN_INDEX=o+1,r.LATIN_INDEX_START=E+20,r.UNICODE_INDEX=o+5,r.DECODE_MAX=o-E-19;var c=r.LATIN_DECODE_MAX=h+7,C=r.CHAR_START=c+1,D=r.COMPRESS_START=C+1,S=r.COMPRESS_FIXED_START=D+5;r.COMPRESS_INDEX=S+5},{}],3:[function(t,n,r){var e=t("./config"),_=t("./util");function i(t){this._init(t)}i.prototype={_init:function(t){t=t||{},this._result=null,this._onDataCallback=t.onData,this._onEndCallback=t.onEnd},_createTable:function(){for(var t={},n=0;n<e.TABLE_LENGTH;n++)t[e.BASE62TABLE.charAt(n)]=n;return t},_onData:function(t){var n;if(this._onDataCallback){if(t)n=this._result,this._result=[];else{var r=e.DECOMPRESS_CHUNK_SIZE-e.WINDOW_MAX;n=this._result.slice(e.WINDOW_MAX,e.WINDOW_MAX+r),this._result=this._result.slice(0,e.WINDOW_MAX).concat(this._result.slice(e.WINDOW_MAX+r))}n.length>0&&this._onDataCallback(_.bufferToString_fast(n))}},_onEnd:function(){this._onEndCallback&&this._onEndCallback()},decompress:function(t){if(null==t||0===t.length)return"";this._result=_.stringToArray(_.createWindow());for(var n,r,i,a,s,l,o,E,u,f,A=this._createTable(),h=!1,c=null,C=t.length,D=0;D<C;D++)if(void 0!==(i=A[t.charAt(D)])){if(i<e.DECODE_MAX)s=h?A[t.charAt(++D)]*e.UNICODE_CHAR_MAX+i+e.UNICODE_BUFFER_MAX*c:c*e.UNICODE_CHAR_MAX+i,this._result[this._result.length]=s;else if(i<e.LATIN_DECODE_MAX)c=i-e.DECODE_MAX,h=!1;else if(i===e.CHAR_START)c=(a=A[t.charAt(++D)])-5,h=!0;else if(i<e.COMPRESS_INDEX){if(a=A[t.charAt(++D)],i<e.COMPRESS_FIXED_START?(l=(i-e.COMPRESS_START)*e.BUFFER_MAX+a,o=A[t.charAt(++D)]):(l=(i-e.COMPRESS_FIXED_START)*e.BUFFER_MAX+a,o=2),(E=this._result.slice(-l)).length>o&&(E.length=o),u=E.length,E.length>0)for(f=0;f<o;)for(r=0;r<u&&(this._result[this._result.length]=E[r],!(++f>=o));r++);c=null}this._result.length>=e.DECOMPRESS_CHUNK_MAX&&this._onData()}return this._result=this._result.slice(e.WINDOW_MAX),this._onData(!0),this._onEnd(),n=_.bufferToString_fast(this._result),this._result=null,n}},n.exports=i},{"./config":2,"./util":5}],4:[function(t,n,r){var e=t("./compressor"),_=t("./decompressor"),i={compress:function(t,n){return new e(n).compress(t)},decompress:function(t,n){return new _(n).decompress(t)}};n.exports=i},{"./compressor":1,"./decompressor":3}],5:[function(t,n,r){var e=t("./config"),_=String.fromCharCode;function i(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)}function a(t){for(var n,r="",i=t.length,a=0;a<i;){if(n=t.subarray?t.subarray(a,a+e.APPLY_BUFFER_SIZE):t.slice(a,a+e.APPLY_BUFFER_SIZE),a+=e.APPLY_BUFFER_SIZE,!e.APPLY_BUFFER_SIZE_OK){if(null===e.APPLY_BUFFER_SIZE_OK)try{r+=_.apply(null,n),n.length>e.APPLY_BUFFER_SIZE&&(e.APPLY_BUFFER_SIZE_OK=!0);continue}catch(t){e.APPLY_BUFFER_SIZE_OK=!1}return s(t)}r+=_.apply(null,n)}return r}function s(t){for(var n="",r=t.length,e=0;e<r;e++)n+=_(t[e]);return n}r.createBuffer=function(t,n){if(!e.HAS_TYPED)return new Array(n);switch(t){case 8:return new Uint8Array(n);case 16:return new Uint16Array(n)}},r.truncateBuffer=i,r.bufferToString_fast=function(t,n){if(null==n?n=t.length:t=i(t,n),e.CAN_CHARCODE_APPLY&&e.CAN_CHARCODE_APPLY_TYPED){var r=t.length;if(r<e.APPLY_BUFFER_SIZE&&e.APPLY_BUFFER_SIZE_OK)return _.apply(null,t);if(null===e.APPLY_BUFFER_SIZE_OK)try{var s=_.apply(null,t);return r>e.APPLY_BUFFER_SIZE&&(e.APPLY_BUFFER_SIZE_OK=!0),s}catch(t){e.APPLY_BUFFER_SIZE_OK=!1}}return a(t)},r.bufferToString_chunked=a,r.bufferToString_slow=s,r.stringToArray=function(t){for(var n=[],r=t&&t.length,e=0;e<r;e++)n[e]=t.charCodeAt(e);return n},r.createWindow=function(){var t,n,r,_="abcdefghijklmnopqrstuvwxyz",i="",a=_.length;for(t=0;t<a;t++)for(r=_.charAt(t),n=a-1;n>15&&i.length<e.WINDOW_MAX;n--)i+=" "+r+" "+_.charAt(n);for(;i.length<e.WINDOW_MAX;)i=" "+i;return i=i.slice(0,e.WINDOW_MAX)}},{"./config":2}]},{},[4])(4)});
//# sourceMappingURL=lzbase62.min.js.map